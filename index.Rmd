---
title: "Index"
output: 
  flexdashboard::flex_dashboard:
    storyboard: true
    theme: yeti
---

```{r setup, include=FALSE}
library(flexdashboard)
library(plotly)
library(spotifyr)
library(tidyverse)
```

### Meet Death Grips

**Death Grips** is an experimental hiphop band with three members. When I got introduced to their music, I hated it. However, after torturing myself for quite some time, it grew on me. Their music is extremely energetic and, if I might say so, quite aggressive. I have not always been able to put my finger on Death Grips’ music. In most of their songs, there is so much happening at the same time: when I think I have found the rhythm, it changes again. Therefore, I am very curious what the Spotify API would make out of Death Grips' music. The goal of this research is to analyze their music and by that, find out how Death Grips' music changed over time.

*The Money Store* (2012) is their most popular album. In total, they released 8 albums, including one instrumental album and a mixtape. I chose to exclude the mixtape *Exmilitary*, because it is not on Spotify (it includes uncleared samples). And just so it has been mentioned: one of these seven albums is actually a double album. Next to the seven remaining albums, I will include their EP *Death Grips*. This EP is an instrumental one. Therefore, it will be valuable to expand my data. Like mentioned before, I want to compare the different albums throughout the years. I will be focussing on the following questions:

- What makes Death Grips so experimental and inaccessible? How can we distinguish this ‘experimentalness’ with the data gained from Spotify’s API?
- Is their most popular music their least experimental music?
- How did Death Grips' music change over time? Has Death Grips become more experimental over time?

In summary, I will be analyzing i) how Death Grips changed over time and ii) what makes Death Grips experimental. My research will be based on the data of 7 albums and 1 EP.
```{r}
```

### Energy

#### I want to check my expectations. I think Death Grips' music is very energetic, sometimes even too energetic. Maybe this is what makes the music experimental and inaccessible. Let's see what the mean energy per album is.

#### ""
``` {r plots}
library(tidyverse)
library(spotifyr)
library(dplyr)
corpus <- get_playlist_audio_features("", "6BoVVeeH3vmrHlgivNbefW")

corpus_new <- corpus %>%
  mutate(mean_album_energy = mean(energy)) %>%
  mutate(track.album.name = fct_reorder(track.album.name, desc(mean_album_energy))) %>%
  group_by(track.album.name) 
ggplot(corpus_new, aes(x = track.album.name, y  = mean_album_energy)) +
  geom_col(stat='identity', fill = "#00abff") +
  labs(x = "",
    y = "energy" ,
    title = "Mean energy per album" ,
    subtitle = "",
    caption = "Data source: Spotify API") +
  theme_minimal() +
  theme(
    title = element_text(color = "gray25"),
    plot.caption = element_text(color = "gray25"),
    panel.grid = element_blank(),
    axis.text.x = element_blank()) +
    coord_flip()
```

### Most popular song

#### This chromagram is made from the song *Get Got*, Death Grips' most popular song.

#### ""
```{r compus chromagram}
remotes::install_github('jaburgoyne/compmus')
library(tidyverse)
library(spotifyr)
library(compmus)
getgot <-
  get_tidy_audio_analysis("781V2Y5LPtcpgONEOadadE") %>%
  select(segments) %>%
  unnest(segments) %>%
  select(start, duration, pitches)
getgot %>%
  mutate(pitches = map(pitches, compmus_normalise, "euclidean")) %>%
  compmus_gather_chroma() %>% 
  ggplot(
    aes(
      x = start + duration / 2,
      width = duration,
      y = pitch_class,
      fill = value
    )
  ) +
  geom_tile() +
  labs(x = "Time (s)", y = NULL, fill = "Magnitude") +
  theme_minimal() +
  scale_fill_viridis_c()
```

### Conclusion

```{r}

```

